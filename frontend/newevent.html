<!DOCTYPE html> 
<html> 
<head> 
    <title>My Page</title> 
    <meta name="viewport" content="width=device-width, initial-scale=1"> 
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>

    <style type="text/css">
        #errorPopup{
            max-width: 400px;
            min-width: 300px;
        }
        #sorry{
            width: 100%
        }
    </style>
</head> 
<body> 

<!-- New Event -->
<div data-role="page">

    <div data-role="header">
        <h1>Lets do something</h1>
    </div><!-- /header -->

    <div data-role="content">   
                <div data-role="fieldcontain">
                    <label for="eventName">Name:</label>
                    <input id="eventName" type="text" data-theme="b"/>
                </div>
                
                <div data-role="fieldcontain">
                    <label for="eventLoc">Location:</label>
                    <input id="eventLoc" type="text" data-theme="b"/>
                </div>

                <div data-role="fieldcontain">
                    <label for="eventDate">Date:</label>
                    <input id="eventDate" type="date" data-theme="b"/>
                </div>

                <div data-role="fieldcontain">
                    <label for="eventTime">Time:</label>
                    <input id="eventTime" type="time" data-theme="b"/>
                </div>

                <div data-role="fieldcontain">
                    <label for="eventPrivate">Private Event:</label>
                    <select id="eventPrivate" data-role="slider" data-theme="b">
                        <option value="off">Off</option>
                        <option value="on">On</option>
                    </select> 
                </div>

                <button id="submitEvent" type="submit" data-theme="b">Lets do it</button>

            
    </div><!-- /content -->

</div><!-- /page -->

<div id="errorPopup" data-role="popup" >

    <div data-role="header" data-theme="a" class="ui-corner-top ui-header ui-bar-b" role="banner">
        <h1 class="ui-title" role="heading" aria-level="1">Hang on...</h1>
    </div>
    <div class="ui-content">
        <h3>Can you please</h3>
        <ul id="problems"></ul>
        <span id="sorry">
            <a href="#" id="sorry" data-role="button" data-inline="true" data-rel="back" data-transition="flow" data-theme="a" data-corners="true" data-shadow="true" data-iconshadow="true" data-wrapperels="span" class="ui-btn ui-shadow ui-btn-corner-all ui-btn-inline ui-btn-hover-a ui-btn-up-a"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">Yeah, sorry.</span></span></a>
        </span>
    </div>
        

</div><!-- /popup -->

<script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDG2T7EFLq_lT1Vq7TZ7uwPHNh6J-q2FOw&libraries=places&sensor=true"></script>
<script type="text/javascript">

    var geocoder

    $(document).bind("pageinit", function(){
        geocoder = new google.maps.Geocoder();
        console.log("Geocoder initialized.");

        $("#errorPopup").popup({
            //theme: "b",
            overlayTheme: "a",
            transition: "pop"
        });
    });


    $("#submitEvent").live("tap", function(){
        var problems = []

        //Verify everything's alright. 
        var name = $("#eventName").val();
        var loc = $("#eventLoc").val();
        var date = $("#eventDate").val();
        var time = $("#eventTime").val();
        var isPrivate = $("#eventPriavate").val();

        if(name.length <= 3){
            problems.push("<li>enter a <i>real</i> name (3+ letters).</li>");
            $("#eventName").addClass("error");
        }

        if(loc.length <= 5){
            problems.push("<li>enter a <i>real</i> location (5+ letters).</li>");
            $("#eventLoc").addClass("error");
        }

        if(date === ""){
            problems.push("<li>enter a valid date, please.</li>");
        }

        if(time === ""){
            problems.push("<li>enter a valid time, if you could.</li>");
        }

        if(problems.length >0){
            $("#problems").html(problems.join(""));
            $("#errorPopup").popup("open");
        }

    });
</script>

</body>
</html>